<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英文科第二次段考成績查詢</title>
    <!-- 載入 Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 使用 Inter 字體作為主要的字體 */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* 自定義樣式來處理輸入框的焦點狀態 */
        .input-focus:focus {
            --tw-ring-color: #3b82f6; /* Blue 500 */
            border-color: #3b82f6;
        }
    </style>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen p-4">

    <!-- 查詢卡片容器 -->
    <div class="w-full max-w-lg bg-white shadow-xl rounded-2xl p-6 md:p-10 border border-gray-100 transition-all duration-300 hover:shadow-2xl">
        
        <!-- 標題 -->
        <h1 class="text-3xl font-bold text-center text-blue-700 mb-6 border-b-2 border-blue-100 pb-3">
            英文科第二次段考成績查詢
        </h1>

        <!-- 輸入表單 -->
        <div id="query-form" class="space-y-4">
            <label for="idNumber" class="block text-lg font-medium text-gray-700">
                請輸入您的身份證字號：
            </label>
            <input type="text" id="idNumber" placeholder="例如: R123456789"
                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150 input-focus uppercase tracking-wider"
                   maxlength="10" autocomplete="off">
            
            <button onclick="queryScore()"
                    class="w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50 transition duration-300 shadow-md hover:shadow-lg active:scale-95">
                查詢成績
            </button>
        </div>

        <!-- 結果顯示區 -->
        <div id="result-area" class="mt-8 pt-6 border-t border-gray-200 hidden">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">查詢結果</h2>
            <div id="score-details" class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg shadow-inner space-y-2">
                <!-- 查詢結果會顯示在這裡 -->
            </div>
        </div>

        <!-- 錯誤/提示信息區 -->
        <div id="message-box" class="mt-4 p-3 rounded-lg text-sm text-center hidden" role="alert">
            <!-- 錯誤或成功提示會顯示在這裡 -->
        </div>

        <!-- 聲明文字 -->
        <div class="mt-10 pt-4 border-t border-gray-200">
            <p class="text-sm text-red-600 font-medium bg-red-50 p-3 rounded-lg text-center shadow-sm">
                此為第二次段考測驗成績，實際第二階段英文成績請依校網或註冊組成績單為準
            </p>
        </div>

    </div>

    <script>
        // 學生資料，以身份證字號為鍵 (Key)
        const studentData = {
            'E126647099': { '學號': '416001', '姓名': '江柏佑', '成績': 18 },
            'R125556848': { '學號': '416002', '姓名': '江軒志', '成績': 20 },
            'D123500329': { '學號': '416003', '姓名': '林湑峰', '成績': 20 },
            'R125338493': { '學號': '416004', '姓名': '曾資詠', '成績': 37 },
            'R125501905': { '學號': '416005', '姓名': '蔣鈞韋', '成績': 11 },
            'R225221066': { '學號': '416006', '姓名': '林羽崙', '成績': 71 },
            'R225260750': { '學號': '416007', '姓名': '林廷臻', '成績': 27 },
            'R225204396': { '學號': '416008', '姓名': '邱玫嵐', '成績': 43 },
            'R225070265': { '學號': '416009', '姓名': '姚亦真', '成績': 24 },
            'R225070247': { '學號': '416010', '姓名': '梁欣宸', '成績': 18 },
            'V221609595': { '學號': '416011', '姓名': '陳玉蓉', '成績': 37 },
            'R225070078': { '學號': '416012', '姓名': '黃秋華', '成績': 26 },
            'R225221048': { '學號': '416013', '姓名': '楊佳蓁', '成績': 28 },
            'R225203951': { '學號': '416014', '姓名': '楊舒涵', '成績': 46 },
            'R225253255': { '學號': '416015', '姓名': '楊閔雁', '成績': 37 },
            'N226930490': { '學號': '416016', '姓名': '劉雨芹', '成績': 32 },
            'R225253157': { '學號': '416017', '姓名': '劉家君', '成績': 36 },
            'R225265031': { '學號': '416018', '姓名': '蕭筠潔', '成績': 64 },
            'R225171025': { '學號': '416019', '姓名': '顧宜芸', '成績': 79 }
        };

        const idInput = document.getElementById('idNumber');
        const resultArea = document.getElementById('result-area');
        const scoreDetails = document.getElementById('score-details');
        const messageBox = document.getElementById('message-box');

        // 輔助函式：顯示訊息
        function showMessage(text, isError = false) {
            messageBox.textContent = text;
            messageBox.classList.remove('hidden', 'bg-red-100', 'text-red-700', 'bg-green-100', 'text-green-700');
            
            if (isError) {
                messageBox.classList.add('bg-red-100', 'text-red-700');
                resultArea.classList.add('hidden'); // 錯誤時隱藏結果區
            } else {
                messageBox.classList.add('bg-green-100', 'text-green-700');
            }
        }

        // 查詢成績的主函式
        function queryScore() {
            // 清除之前的結果和訊息
            scoreDetails.innerHTML = '';
            messageBox.classList.add('hidden');
            resultArea.classList.add('hidden');

            // 取得輸入值並轉換為大寫，去除前後空白
            const inputId = idInput.value.trim().toUpperCase();

            if (!inputId) {
                showMessage("請輸入身份證字號進行查詢。", true);
                return;
            }

            // 執行查詢
            const student = studentData[inputId];

            if (student) {
                // 找到學生資料，顯示結果
                const detailsHtml = `
                    <p><strong class="text-blue-600">學號:</strong> <span class="text-gray-900">${student['學號']}</span></p>
                    <p><strong class="text-blue-600">姓名:</strong> <span class="text-gray-900">${student['姓名']}</span></p>
                    <p><strong class="text-blue-600">第二次段考成績:</strong> <span class="text-2xl font-bold text-red-600">${student['成績']}</span></p>
                `;
                
                scoreDetails.innerHTML = detailsHtml;
                resultArea.classList.remove('hidden');
                // 成功查詢後，可以選擇不顯示一般訊息，或顯示成功訊息
                // showMessage("查詢成功！", false); 
            } else {
                // 找不到學生資料，顯示錯誤訊息
                showMessage(`找不到身份證字號 ${inputId} 的成績資料。請檢查輸入是否正確。`, true);
            }
        }

        // 允許按 Enter 鍵查詢
        idInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                queryScore();
            }
        });
    </script>

</body>
</html>
